<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
      
        <title>GRC Policies - Safety Shield Ultra</title>
        <meta content="" name="description">
        <meta content="" name="keywords">
      
        <!-- Favicons -->
        <link href="assets/img/favicon.png" rel="icon">
        <link href="assets/img/favicon.png" rel="apple-touch-icon">
      
        <!-- Google Fonts -->
        <link href="https://fonts.gstatic.com" rel="preconnect">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
      
        <!-- Vendor CSS Files -->
        <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
        <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
        <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
        <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
        <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
        <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
        
        <!-- Template Main CSS File -->
        <link id="darkmode-base" href="assets/css/style.css" rel="stylesheet">
        <link id="darkmode-item" href="assets/css/customcharts.css" rel="stylesheet">
        <link id="lightmode" href="assets/css/lightmode.css" rel="stylesheet" disabled>
      
      
        <!-- Firebase JS SDK -->
        <script src="https://www.gstatic.com/firebasejs/9.8.3/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.8.3/firebase-database-compat.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      
      </head>

<body>
    <video autoplay muted loop class="video-background">
        <source src="assets/img/compressed_dashboard_background.mp4" type="video/mp4">
      </video>
  <!-- Header y Sidebar -->
  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center">
        <img src="assets/img/favicon.png" alt="" class="logoheader">
        <span class="d-none d-lg-block">Safety Shield Ultra</span>
      </a>
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->

    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <!-- Hack Mode Switch -->
        <li class="nav-item d-flex align-items-center me-4 hack-mode-container">
          <!-- Icono de sol para pantallas medianas y más grandes -->
          <span class="bi bi-sun me-1 d-none d-md-inline-block" style="color: #fff;"></span>

          <!-- Switch de Hack Mode para pantallas medianas y más grandes -->
          <div class="form-check form-switch d-none d-md-flex">

            <input class="form-check-input " type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
            <span class="bi bi-moon ms-1 " style="color: #fff;"></span>

            <label class="form-check-label ms-1" for="flexSwitchCheckChecked"></label>
            
          </div>
          
          <!-- Icono de luna para pantallas pequeñas -->
          <i class="bi bi-moon d-md-none hack-mode-icon"></i>
        </li>
    
        <li class="nav-item dropdown">
          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-bell"></i>
            <span class="badge bg-primary badge-number">4</span>
          </a><!-- End Notification Icon -->
    
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications">
            <li class="dropdown-header">
              You have 4 new notifications
              <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="notification-item">
              <i class="bi bi-exclamation-circle text-warning"></i>
              <div>
                <h4>Increased Blocked Requests</h4>
                <p>Spike in blocked requests detected in the last hour.</p>
                <p>30 min. ago</p>
              </div>
            </li>
    
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="notification-item">
              <i class="bi bi-x-circle text-danger"></i>
              <div>
                <h4>New Abusive User Detected</h4>
                <p>User GUID 1234 flagged for potential abusive behavior.</p>
                <p>1 hr. ago</p>
              </div>
            </li>
    
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="notification-item">
              <i class="bi bi-check-circle text-success"></i>
              <div>
                <h4>Hallucination Detection Update</h4>
                <p>New algorithm for hallucination detection deployed.</p>
                <p>2 hrs. ago</p>
              </div>
            </li>
    
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="notification-item">
              <i class="bi bi-info-circle text-primary"></i>
              <div>
                <h4>Weekly Report Available</h4>
                <p>The Safety Shield Ultra weekly summary is ready for review.</p>
                <p>4 hrs. ago</p>
              </div>
            </li>
    
            <li>
              <hr class="dropdown-divider">
            </li>
            <li class="dropdown-footer text-center">
              <a href="#">Show all notifications</a>
            </li>
          </ul><!-- End Notification Dropdown Items -->
        </li><!-- End Notification Nav -->
    
        <li class="nav-item dropdown">
          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-chat-left-text"></i>
            <span class="badge bg-success badge-number">3</span>
          </a><!-- End Messages Icon -->
    
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow messages">
            <li class="dropdown-header">
              You have 3 new messages
              <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="message-item">
              <a href="#">
                <img src="assets/img/messages-1.jpg" alt="" class="rounded-circle">
                <div>
                  <h4>Maria Hudson</h4>
                  <p>The project files have been uploaded successfully.</p>
                  <p>4 hrs. ago</p>
                </div>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="message-item">
              <a href="#">
                <img src="assets/img/messages-2.jpg" alt="" class="rounded-circle">
                <div>
                  <h4>Anna Nelson</h4>
                  <p>Meeting rescheduled to tomorrow at 10 AM.</p>
                  <p>6 hrs. ago</p>
                </div>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="message-item">
              <a href="#">
                <img src="assets/img/messages-3.jpg" alt="" class="rounded-circle">
                <div>
                  <h4>David Muldon</h4>
                  <p>Can you review the latest draft of the report?</p>
                  <p>8 hrs. ago</p>
                </div>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li class="dropdown-footer text-center">
              <a href="#">Show all messages</a>
            </li>
          </ul><!-- End Messages Dropdown Items -->
        </li><!-- End Messages Nav -->
    
        <li class="nav-item dropdown pe-3">
          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <img src="assets/img/profile-img.jpeg" alt="Profile" class="rounded-circle me-3">
          </a><!-- End Profile Image Icon -->
    
          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile fondoperfil">
            <li class="dropdown-header text-center">
              <h6>Abraham A. Pilcer</h6>
              <span>CEO and Chief Scientist</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li>
              <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                <i class="bi bi-person"></i>
                <span>My Profile</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li>
              <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                <i class="bi bi-gear"></i>
                <span>Account Settings</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li>
              <a class="dropdown-item d-flex align-items-center" href="pages-faq.html">
                <i class="bi bi-question-circle"></i>
                <span>Need Help?</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
    
            <li>
              <a class="dropdown-item d-flex align-items-center" href="#" onclick="signOut(event)">
                <i class="bi bi-box-arrow-right"></i>
                <span>Sign Out</span>
              </a>
            </li>
    
          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->
      </ul>
    </nav><!-- End Icons Navigation -->
    
    
    
    
    

  </header><!-- End Header -->  
  <div id="preloader">
    <img src="/assets/img/favicon.png" alt="Loading..." class="spinner-image">
  </div>
  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">
  
  
  
      <li class="nav-item">
        <a class="nav-link " href="index.html">
          <i class="bi bi-grid"></i>
          <span>Dashboard</span>
        </a>
      </li><!-- End Dashboard Nav -->
  
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#charts-nav" data-bs-toggle="collapse" href="index.html#">
          <i class="bi bi-eye"></i><span>Monitoring</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="charts-nav" class="nav-content collapse" data-bs-parent="#sidebar-nav">
          <li>
            <a href="index.html#totalBlockedRequests">
              <i class="bi bi-shield-lock"></i><span>Blocked Requests & Rate</span>
            </a>
          </li>
          <li>
            <a href="index.html#blockedRequestsByCategory">
              <i class="bi bi-bar-chart"></i><span>Blocked Requests by Category</span>
            </a>
          </li>
          <li>
            <a href="index.html#blockRateOverTimeByCategory">
              <i class="bi bi-graph-up-arrow"></i><span>Block Rate Over Time by Category</span>
            </a>
          </li>
          <li>
            <a href="index.html#severity">
              <i class="bi bi-exclamation-triangle"></i><span>Severity Distribution by Category</span>
            </a>
          </li>
          <li>
            <a href="index.html#SeverityTime">
              <i class="bi bi-clock-history"></i><span>Severity Over Time by Category</span>
            </a>
          </li>
          <li>
            <a href="index.html#totalAbusiveUsersChart">
              <i class="bi bi-person-x"></i><span>Abusive User Detection</span>
            </a>
          </li>
          <li>
            <a href="index.html#hallucinationChart">
              <i class="bi bi-eye-slash"></i><span>Hallucination Detection</span>
            </a>
          </li>
          <li>
            <a href="index.html#biasPieChart">
              <i class="bi bi-slash-circle"></i><span>Bias Detection</span>
            </a>
          </li>
          <li>
            <a href="index.html#promptInjectionChart">
              <i class="bi bi-shield-exclamation"></i><span>Prompt Injection/Jailbreak Detection</span>
            </a>
          </li>
          <li>
            <a href="index.html#dataExposureLineChart">
              <i class="bi bi-file-earmark-lock"></i><span>Data Exposure</span>
            </a>
          </li>
        </ul>
      </li>
      <!-- End Charts Nav -->
  
      <li class="nav-item">
    <a class="nav-link collapsed" href="grc-policies.html">
      <i class="bi bi-file-earmark-lock"></i>
      <span>GRC Policies</span>
    </a>
  </li>
  
  
      <li class="nav-heading">Pages</li>
  
      <li class="nav-item">
        <a class="nav-link collapsed" href="users-profile.html">
          <i class="bi bi-person"></i>
          <span>Profile</span>
        </a>
      </li><!-- End Profile Page Nav -->
  
      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-faq.html">
          <i class="bi bi-question-circle"></i>
          <span>F.A.Q</span>
        </a>
      </li><!-- End F.A.Q Page Nav -->
  
      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-contact.html">
          <i class="bi bi-envelope"></i>
          <span>Contact</span>
        </a>
      </li><!-- End Contact Page Nav -->
  
      
  
    </ul>
    <div class="sidebar-bg-container">
      <img src="/assets/img/logo.png" class="sidebar-bg">
    </div>
  
  
    <li class="nav-link">
      <!-- Mostrar el departamento y permitir cambiarlo -->
      <div id="user-department" class="text-center mb-2 align-items-center"></div>
      <select id="department-select" class="modern-select mt-2">
        <!-- Las opciones se llenarán dinámicamente con JavaScript -->
      </select>
    </li>
    
  </aside><!-- End Sidebar-->
  
  <main id="main" class="main ">

    <h1 class="cardindex-title" style="font-size: 25px;">GRC Policies Management</h1>

    <!-- Navegación por pestañas -->
    <ul class="nav nav-tabs" id="grcTabs" role="tablist">
        <li class="nav-itemt" role="presentation">
            <a class="nav-link active" id="existing-policies-tab" data-bs-toggle="tab" href="#existing-policies" role="tab" aria-controls="existing-policies" aria-selected="true">Existing Policies</a>
        </li>
        <li class="nav-itemt" role="presentation">
            <a class="nav-link " id="add-policy-tab" data-bs-toggle="tab" href="#add-policy" role="tab" aria-controls="add-policy" aria-selected="false">Add Policies</a>
        </li>
        <li class="nav-itemt" role="presentation">
            <a class="nav-link" id="export-policy-tab" data-bs-toggle="tab" href="#export-policy" role="tab" aria-controls="export-policy" aria-selected="false">Import Policies</a>
        </li>

        <li class="nav-itemt" role="presentation">
            <a class="nav-link" id="generate-report-tab" data-bs-toggle="tab" href="#generate-report" role="tab" aria-controls="generate-report" aria-selected="false">Report</a>
        </li>
        <li class="nav-itemt" role="presentation">
            <a class="nav-link" id="alerts-tab" data-bs-toggle="tab" href="#alerts" role="tab" aria-controls="alerts" aria-selected="false">Alerts</a>
        </li>
    </ul>

    <div class="tab-content" id="grcTabsContent">
        <!-- Pestaña Políticas Existentes -->
        <div class="tab-pane fade show active" id="existing-policies" role="tabpanel" aria-labelledby="existing-policies-tab">
            <h6 class="mt-4">Existing Policies</h6>
            <!-- Search and Filter Controls -->
            <div class="d-flex justify-content-between mb-3">
                <input type="text" id="policySearch" class="form-control w-50" placeholder="Search policies by name">
                <select id="complianceFilter" class="form-select w-25">
                    <option value="All">All</option>
                    <option value="Compliant">Compliant</option>
                    <option value="Non-compliant">Non-compliant</option>
                </select>
            </div>

            <!-- Policies Table -->
            <table class="table table-bordered tablepolicy">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Regulation</th>
                        <th>Compliance Status</th>
                        <th>Actions</th>
                        <th>Read</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody id="policiesTable">
                    <!-- Las políticas se llenarán dinámicamente -->
                </tbody>
            </table>

            <!-- Pagination Controls -->
            <div id="paginationControls" class="d-flex justify-content-center mt-4"></div>
        </div>

        <!-- Pestaña Agregar Políticas -->
        <div class="tab-pane fade" id="add-policy" role="tabpanel" aria-labelledby="add-policy-tab">
            <form id="addPolicyForm" class="mt-4">
                <div class="mb-3">
                    <label for="policyName" class="form-label">Policy Name</label>
                    <input type="text" class="form-control" id="policyName" required>
                </div>
                <div class="mb-3">
                    <label for="policyDescription" class="form-label">Description</label>
                    <textarea class="form-control" id="policyDescription" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="policyRegulation" class="form-label">Regulation</label>
                    <input type="text" class="form-control" id="policyRegulation" required>
                </div>
                <div class="mb-3">
                    <label for="policyCompliance" class="form-label">Compliance Status</label>
                    <select class="form-select" id="policyCompliance">
                        <option value="compliant">Compliant</option>
                        <option value="non-compliant">Non-compliant</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Add Policy</button>
            </form>
        </div>

        <!-- Pestaña Exportar Políticas -->
        <div class="tab-pane fade" id="export-policy" role="tabpanel" aria-labelledby="export-policy-tab">
            <!-- Informational alert for the user -->
            <div class="alert alert mt-4" role="alert">
                <h5 class="alert-heading">Import Policies</h5>
                <p>If you already have existing policies, you can upload them to the system using the button below. Make sure that the file is in JSON format and follows the appropriate structure to be compatible with the system. You can select a file from your computer by clicking on the "Import Policies Based on Regulations" button.</p>
                <p><strong>Supported formats:</strong> JSON (.json)</p>
                <p><strong>Last upload:</strong> <span id="lastUploadDate">No policies uploaded yet.</span></p>
            </div>

            <!-- Button to upload files -->
            <button id="importPoliciesBtn" class="btn btn-outline-primary mt-4">Import Policies Based on Regulations</button>

            <!-- Hidden file input -->
            <input type="file" id="fileInput" style="display: none;" />
        </div>

        <!-- Tab for Generating Report -->
        <div class="tab-pane fade" id="generate-report" role="tabpanel" aria-labelledby="generate-report-tab">
            <!-- Informational alert for the user -->
            <div class="alert alert mt-4" role="alert">
                <h5 class="alert-heading">Generate GRC Report</h5>
                <p>In this section, you can generate a comprehensive report of all policies and their compliance status. The report will provide an overview of compliant and non-compliant policies within the system, allowing you to assess the current state of policy adherence.</p>
                <p>Click the "Generate GRC Report" button below to create and download the report.</p>
                <p><strong>Supported formats:</strong> PDF, CSV</p>
            </div>

            <!-- Button to generate the report -->
            <button id="generateReportBtn" class="btn btn-outline-primary mt-4">Generate GRC Report</button>
        </div>

        <!-- Pestaña Alertas -->
        <div class="tab-pane fade" id="alerts" role="tabpanel" aria-labelledby="alerts-tab">
            <div id="alertsContainer"></div>
        </div>
    </div>

</main>


<!-- Modal para leer y editar políticas -->
<div class="modal fade" id="policyModal" tabindex="-1" aria-labelledby="policyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="policyModalLabel">Policy Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Aquí se llenarán los detalles de la política -->
                <form id="editPolicyForm">
                    <div class="mb-3">
                        <label for="modalPolicyName" class="form-label">Policy Name</label>
                        <input type="text" class="form-control" id="modalPolicyName">
                    </div>
                    <div class="mb-3">
                        <label for="modalPolicyDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="modalPolicyDescription" rows="3"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="modalPolicyRegulation" class="form-label">Regulation</label>
                        <input type="text" class="form-control" id="modalPolicyRegulation">
                    </div>
                    <div class="mb-3">
                        <label for="modalPolicyCompliance" class="form-label">Compliance Status</label>
                        <select class="form-select" id="modalPolicyCompliance">
                            <option value="compliant">Compliant</option>
                            <option value="non-compliant">Non-compliant</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="editSaveBtn">Save changes</button>
            </div>
        </div>
    </div>
</div>

  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Vendor JS Files -->
    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.umd.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/grcupdate.js"></script>

    <script>
   document.addEventListener('DOMContentLoaded', function () {
  const department = localStorage.getItem('department');
  const userDepartments = JSON.parse(localStorage.getItem('userDepartments')) || [];
  const departmentSelect = document.getElementById('department-select');
  const userDepartmentDiv = document.getElementById('user-department');

  // Llenar el menú desplegable con los departamentos disponibles
  userDepartments.forEach(dep => {
    const option = document.createElement('option');
    option.value = dep;
    option.textContent = dep;
    departmentSelect.appendChild(option);
  });

  if (department) {
    userDepartmentDiv.textContent = ` ${department}`;
    departmentSelect.value = department;
  }

  departmentSelect.addEventListener('change', function () {
    const selectedDepartment = departmentSelect.value;
    localStorage.setItem('department', selectedDepartment);
    userDepartmentDiv.textContent = ` ${selectedDepartment}`;

    // Recargar la página para reflejar el cambio de departamento
    window.location.reload();
  });
});

</script>

 <!-- ======= Footer ======= -->
  <footer id="footer" class="footerindex">
    <div class="copyright">
      &copy; Copyright <strong><span>Safety Shield Ultra</span></strong>. All Rights Reserved
    </div>
    <div class="credits">
      Designed by <a href="https://www.ultradeeptech.com/">Ultra Deep Tech</a>
    </div>
  </footer><!-- End Footer -->


  
  


  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>


<script>
  (function() {
    let globalIsDarkMode = false;
  
    function applyTheme(isDarkMode) {
      globalIsDarkMode = isDarkMode;
      document.body.classList.toggle('dark-mode', isDarkMode);
      document.getElementById('lightmode').disabled = isDarkMode;
      document.getElementById('darkmode-base').disabled = !isDarkMode;
      document.getElementById('darkmode-item').disabled = !isDarkMode;
      
      const hackModeIcon = document.querySelector('.hack-mode-icon');
      hackModeIcon.classList.toggle('active', isDarkMode);
      hackModeIcon.classList.toggle('inactive', !isDarkMode);
      hackModeIcon.classList.toggle('bi-moon', !isDarkMode);
      hackModeIcon.classList.toggle('bi-sun', isDarkMode);
      
      document.querySelector('label[for="flexSwitchCheckChecked"]').textContent = isDarkMode ? 'Hack Mode' : 'Light Mode';
      
      localStorage.setItem('theme', isDarkMode ? 'dark-mode' : 'light-mode');
      
      // Llamar a la función de actualización de gráficos inmediatamente
      if (typeof updateAllChartColors === 'function') {
        updateAllChartColors(isDarkMode);
      }
      
      // Disparar el evento themeChanged después de actualizar los gráficos
      document.dispatchEvent(new CustomEvent('themeChanged', { detail: { isDarkMode } }));
    }
  
    function initializeTheme() {
      const currentTheme = localStorage.getItem('theme');
      const isDarkMode = currentTheme === 'dark-mode';
      document.getElementById('flexSwitchCheckChecked').checked = isDarkMode;
      applyTheme(isDarkMode);
    }
  
    document.addEventListener('DOMContentLoaded', function() {
      initializeTheme();
  
      document.querySelector('.hack-mode-icon').addEventListener('click', function() {
        applyTheme(!globalIsDarkMode);
      });
  
      document.getElementById('flexSwitchCheckChecked').addEventListener('change', function(event) {
        applyTheme(event.target.checked);
      });
    });
  
    window.isDatagraficosDarkMode = function() {
      return globalIsDarkMode;
    };
  })();
  </script>


</body>

</html>
