<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Register - Safety Shield Ultra</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/logo.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <link href="assets/css/customcharts.css" rel="stylesheet">

</head>

<body>

  <video autoplay muted loop class="video-background">
    <source src="assets/img/compressed_dashboard_background.mp4" type="video/mp4">
  </video>

  <main>

    <div class="container">
      <div id="languageSwitcher" class="language-switcher">
        <img src="assets/img/Flag_of_the_U.S..svg.png" alt="English" data-lang="en" class="language-flag" style="cursor: pointer;">
        <img src="assets/img/Bandera_de_España.svg.png" alt="Español" data-lang="es" class="language-flag" style="cursor: pointer;">
      </div>
    </div>
  
    <div class="container">
  
      <section class="section register min-vh-100 d-flex flex-column align-items-center justify-content-center py-4">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center">
  
              <div class="d-flex justify-content-center py-4">
                <a href="index.html" class="logo d-flex align-items-center w-auto">
                  <img src="assets/img/logo.png" alt="">
                  <span class="d-none d-lg-block" >Safety Shield Ultra</span>
                </a>
              </div><!-- End Logo -->
  
              <div class="cardindex mb-3">
                <div class="cardindex-body">
                  <div class="pt-4 pb-2">
                    <h5 class="card-title pb-0 fs-4" data-translate="create_account">Create an Account</h5>
                    <p class="text-center small" data-translate="enter_personal_details">Enter your personal details to create an account</p>
                  </div>
  
                  <form class="row g-3 needs-validation " novalidate>
                    <div class="col-12 ">
                      <label for="yourName" class="form-label" data-translate="your_name">Your Name</label>
                      <input type="text" name="name" class="form-control" id="yourName" required>
                      <div class="invalid-feedback" data-translate="enter_name">Please, enter your name!</div>
                    </div>
  
                    <div class="col-12">
                      <label for="yourEmail" class="form-label" data-translate="your_email">Your Email</label>
                      <input type="email" name="email" class="form-control" id="yourEmail" required>
                      <div class="invalid-feedback" data-translate="enter_valid_email">Please enter a valid Email address!</div>
                    </div>
  
                    <div class="col-12">
                      <label for="yourPassword" class="form-label" data-translate="your_password">Password</label>
                      <input type="password" name="password" class="form-control" id="yourPassword" required>
                      <div class="invalid-feedback" data-translate="enter_password">Please enter your password!</div>
                    </div>
  
                    <div class="col-12">
                      <label class="form-label" data-translate="select_department">Select your department(s)</label>
                      <div class="row">
                        <div class="col-md-6 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="accountManager" name="departments[]" value="Account Manager" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="accountManager" data-translate="account_manager">Account Manager</label>
                        </div>
  
                        <div class="col-md-6 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="customerService" name="departments[]" value="Customer Service" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="customerService" data-translate="customer_service">Customer Service</label>
                        </div>
  
                        <div class="col-md-6 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="sales" name="departments[]" value="Sales" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="sales" data-translate="sales">Sales</label>
                        </div>
  
                        <div class="col-md-6 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="operations" name="departments[]" value="Operations" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="operations" data-translate="operations">Operations</label>
                        </div>
  
                        <div class="col-md-6 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="finance" name="departments[]" value="Finance" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="finance" data-translate="finance">Finance</label>
                        </div>
  
                        <div class="col-md-6 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="itSupport" name="departments[]" value="IT Support" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="itSupport" data-translate="it_support">IT Support</label>
                        </div>
  
                        <div class="col-md-12 col-sm-12 mb-2">
                          <input type="checkbox" class="btn-check" id="humanResources" name="departments[]" value="Human Resources" autocomplete="off">
                          <label class="btn btn-outline-light w-100" for="humanResources" data-translate="human_resources">Human Resources</label>
                        </div>
                      </div>
                    </div>
  
                    <!-- Checkbox con el enlace a los términos y condiciones -->
                    <div class="col-12 d-flex justify-content-center">
                      <div class="form-check d-flex align-items-center">
                        <input class="form-check-input me-2" name="terms" type="checkbox" value="" id="acceptTerms" required>
                        <label class="form-check-label credits" for="acceptTerms" data-translate="agree_terms">
                          I agree and accept the 
                        </label>
                        <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal" style="color: #4a87d8; padding-left: 5px;" data-translate="terms_conditions" >terms and conditions</a>
                        <div class="invalid-feedback" data-translate="must_agree">You must agree before submitting.</div>
                      </div>
                    </div>
  
                    <!-- Modal -->
                    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
                      <div class="modal-dialog">

                                <div class="unique-modal-content">
                                  <div class="unique-modal-header">
                                    <h5 class="modal-title" id="termsModalLabel" data-translate="terms_conditions">Terms and Conditions</h5>
                                    <h4 data-translate="acceptance_terms">1. Acceptance of the Terms</h4>
                                    <p data-translate="acceptance_terms_detail">By accessing or using our application, you agree to comply with and be bound by the following terms and conditions. These terms apply to all users of the application, including visitors, clients, employees, or any other person accessing the services.</p>
                            
                                    <h4 data-translate="use_application">2. Use of the Application</h4>
                                    <p data-translate="use_application_detail">Our application provides access to information and data related to the operations of your company. The use of this application is restricted to authorized employees, contractors, and approved personnel by the company. Misuse, unauthorized distribution of data, or attempts to access confidential information that is not permitted may result in the termination of your access.</p>
                            
                                    <h4 data-translate="data_protection">3. Data Protection</h4>
                                    <p data-translate="data_protection_detail">The user agrees to protect the confidentiality of the company’s information accessed through the application. All stored and processed information is subject to the company's privacy and security policies.</p>
                                    <ul>
                                      <li data-translate="data_protection_item1">Do not share your password or access details with third parties.</li>
                                      <li data-translate="data_protection_item2">In the event of a security breach, immediately notify your company administrator.</li>
                                      <li data-translate="data_protection_item3">Data entered or accessed through this application is subject to monitoring for security purposes.</li>
                                    </ul>
                            
                                    <h4 data-translate="intellectual_property">4. Intellectual Property</h4>
                                    <p data-translate="intellectual_property_detail">All content, design, and functionalities of the application are the property of the company and are protected by copyright and intellectual property laws. Reproduction, distribution, or modification is not allowed without prior written consent from the company.</p>
                            
                                    <h4 data-translate="limitation_liability">5. Limitation of Liability</h4>
                                    <p data-translate="limitation_liability_detail">The company is not responsible for errors in the data provided by users or for the loss of information due to technical failures, cyber-attacks, or any other events beyond our control. Use of the application is at your own risk.</p>
                            
                                    <h4 data-translate="modifications_terms">6. Modifications to the Terms</h4>
                                    <p data-translate="modifications_terms_detail">We reserve the right to modify or update these terms and conditions at any time. Any changes will be notified through the application, and you will be required to accept the new conditions to continue using the service.</p>
                            
                                    <h4 data-translate="contact_us">7. Contact</h4>
                                    <p data-translate="contact_us_detail">If you have any questions or concerns about these terms and conditions, you can contact us at <strong>contract@ultradeeptech.com</strong>.</p>
                                  </div>
                                  <div class="unique-modal-footer">
                                    <button type="button" class="unique-btn-primary" data-bs-dismiss="modal" data-translate="close">Close</button>
                                </div>
                        </div>
                      </div>
                    </div>
  
                    <div class="col-12">
                      <button class="btn btn-primary w-100" type="submit" data-translate="create_account_button">Create Account</button>
                    </div>
                    <div class="col-12 credits">
                      <p class="small mb-0" data-translate="already_have_account">Already have an account? </p>
                      <a href="pages-login.html" data-translate="login_here">Log in</a>
                    </div>
                  </form>
  
                </div>
              </div>
  
              <div class="credits">
                Designed by <a href="https://www.ultradeeptech.com/" >Ultra Deep Tech</a>
              </div>
  
            </div>
          </div>
        </div>
  
      </section>
  
    </div>
  </main><!-- End #main -->
  
  <script>
document.querySelector('form').addEventListener('submit', function(event) {
    event.preventDefault();

    const name = document.getElementById('yourName').value;
    const email = document.getElementById('yourEmail').value;
    const password = document.getElementById('yourPassword').value;

    // Capturar los departamentos seleccionados
    const departments = [];
    document.querySelectorAll('input[name="departments[]"]:checked').forEach((checkbox) => {
        departments.push(checkbox.value);
        console.log('Departamento seleccionado:', checkbox.value); // Nuevo log
    });

    if (departments.length === 0) {
        alert('Please select at least one department.');
        return;
    }

    // Verificar los departamentos seleccionados en la consola
    console.log('Departamentos seleccionados:', departments);

    // Verificar específicamente el estado del checkbox de Ventas
    console.log('Checkbox de Ventas marcado:', document.getElementById('sales').checked);

    fetch('https://backend-grcshield-934866038204.us-central1.run.app/register', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            name: name,
            email: email,
            password: password,
            departments: departments
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.error) {
            alert('Error: ' + data.error);
        } else {
            alert('Successfully registered user!');
            console.log('Respuesta del servidor:', data); // Nuevo log
            window.location.href = 'pages-login.html';
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert(' An error occurred during registration, please try again.');
    });
});
  </script>
  
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="assets/js/lenguaje.js"></script>

</body>

</html>